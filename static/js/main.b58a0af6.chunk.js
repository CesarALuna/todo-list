(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{120:function(e,t,c){},129:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(19),a=c.n(s),o=(c(120),c(5));var r=function(e){var t=e.children;return Object(o.jsx)("div",{className:"Main",children:t})},i=c(8),d=c(60),j=c(84);c(130);j.a.initializeApp({apiKey:"AIzaSyDYpvxwa5dKMV8IeZNvZnPuU3SECIGGUkA",authDomain:"taskr-3817b.firebaseapp.com",projectId:"taskr-3817b",storageBucket:"taskr-3817b.appspot.com",messagingSenderId:"225744736117",appId:"1:225744736117:web:e40a81c9f78ba6cd420d3c"});var l=j.a,u=c(26),b=c.n(u);var O=Object(n.createContext)();function m(e){var t=e.children,c="today",s=Object(n.useState)(c),a=Object(i.a)(s,2),r=a[0],j=a[1],u=Object(n.useState)(void 0),m=Object(i.a)(u,2),h=m[0],f=m[1],x=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){var e=l.firestore().collection("todos").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));s(t)}));return function(){return e()}}),[]),c}(),v=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){var e=l.firestore().collection("projects").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name}}));s(t)}));return function(){return e()}}),[]),c}(),p=function(e,t){var c=Object(n.useState)([]),s=Object(i.a)(c,2),a=s[0],o=s[1];return Object(n.useEffect)((function(){var c=e.map((function(e){return Object(d.a)({numOfTodos:t.filter((function(t){return t.projectName===e.name&&!t.checked})).length},e)}));o(c)}),[e,t]),a}(v,x),N=function(e,t){var c=Object(n.useState)([]),s=Object(i.a)(c,2),a=s[0],o=s[1];return Object(n.useEffect)((function(){var c,n=b()().format("MM/DD/YYYY");c="today"===t?e.filter((function(e){return e.date===n})):"next 7 days"===t?e.filter((function(e){var t=b()(e.date,"MM/DD/YYYY"),c=b()(n,"MM/DD/YYYY"),s=t.diff(c,"days");return s>=0&&s<7})):"all days"===t?e:e.filter((function(e){return e.projectName===t})),o(c)}),[e,t]),a}(x,r);return Object(o.jsx)(O.Provider,{value:{defaultProject:c,selectedProject:r,setSelectedProject:j,todos:N,projects:p,selectedTodo:h,setSelectedTodo:f},children:t})}var h=function(e){var t=e.children,c=Object(n.useContext)(O).setSelectedTodo,s=Object(n.useRef)();Object(n.useEffect)((function(){return document.addEventListener("click",a),function(){return document.removeEventListener("click",a)}}));var a=function(e){(e.target===s.current||s.current.contains(e.target))&&c(void 0)};return Object(o.jsx)("div",{className:"Sidebar",ref:s,children:t})},f=c.p+"static/media/logo.e38232d6.svg";var x=function(){return Object(o.jsxs)("div",{className:"User",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{src:f,alt:"logo"})}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsx)("p",{children:"Tasky"}),Object(o.jsx)("a",{href:"#",children:"Logout"})]})]})},v=c(20);var p=function(e){var t=e.children,c=e.showModal,s=e.setShowModal,a=Object(n.useRef)(),r=Object(v.useSpring)({opacity:c?1:0,top:c?"25%":"0%",config:{friction:16}});return c&&Object(o.jsx)("div",{className:"Modal",ref:a,onClick:function(e){e.target===a.current&&s(!1)},children:Object(o.jsx)(v.animated.div,{style:r,className:"container",children:t})})},N=c(32),S=c(78),y=c(25),g=c(156),k=c(164),w=c(103);var C=function(e){var t=e.handleSubmit,c=e.heading,n=void 0!==c&&c,s=e.text,a=e.setText,r=e.day,i=e.setDay,d=e.time,j=e.todoProject,l=e.setTodoProject,u=e.setTime,b=e.projects,O=e.showButtons,m=void 0!==O&&O,h=e.setShowModal,f=void 0!==h&&h;return Object(o.jsx)(y.a,{utils:w.a,children:Object(o.jsxs)("form",{onSubmit:t,className:"TodoForm",children:[Object(o.jsxs)("div",{className:"text",children:[n&&Object(o.jsx)("h3",{children:n}),Object(o.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.target.value)},placeholder:"To do...",autoFocus:!0})]}),Object(o.jsxs)("div",{className:"remind",children:[Object(o.jsx)(N.b,{}),Object(o.jsx)("p",{children:"Remind me!"})]}),Object(o.jsxs)("div",{className:"pick-day",children:[Object(o.jsxs)("div",{className:"title",children:[Object(o.jsx)(N.c,{}),Object(o.jsx)("p",{children:"Pick a day"})]}),Object(o.jsx)(g.a,{value:r,onChange:function(e){return i(e)}})]}),Object(o.jsxs)("div",{className:"pick-time",children:[Object(o.jsxs)("div",{className:"title",children:[Object(o.jsx)(N.g,{}),Object(o.jsx)("p",{children:"Choose a time"})]}),Object(o.jsx)(k.a,{value:d,onChange:function(e){return u(e)}})]}),Object(o.jsxs)("div",{className:"pick-project",children:[Object(o.jsxs)("div",{className:"title",children:[Object(o.jsx)(N.h,{}),Object(o.jsx)("p",{children:"Choose a project"})]}),Object(o.jsx)("div",{className:"projects",children:b.length>0?b.map((function(e){return Object(o.jsx)("div",{className:"project ".concat(j===e.name?"active":""),onClick:function(){return l(e.name)},children:e.name},e.id)})):Object(o.jsx)("div",{style:{color:"red",fontStyle:"italic"},children:"Please add a project"})})]}),m&&Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"cancel",onClick:function(){return f(!1)},children:Object(o.jsx)(S.a,{size:"22"})}),Object(o.jsx)("div",{className:"confirm",children:Object(o.jsx)("button",{children:"+ Add Todo"})})]})]})})},T=["today","next 7 days","all days"],M=c(102),Y=c.n(M);var D=function(){var e=Object(n.useContext)(O),t=e.projects,c=e.selectedProject,s=Object(n.useState)(!1),a=Object(i.a)(s,2),r=a[0],d=a[1],j=Object(n.useState)(""),u=Object(i.a)(j,2),m=u[0],h=u[1],f=Object(n.useState)(new Date),x=Object(i.a)(f,2),v=x[0],N=x[1],S=Object(n.useState)(new Date),y=Object(i.a)(S,2),g=y[0],k=y[1],w=Object(n.useState)(c),M=Object(i.a)(w,2),D=M[0],P=M[1];return Object(n.useEffect)((function(){P(c)}),[c]),Object(o.jsxs)("div",{className:"AddNewTodo",children:[Object(o.jsx)("div",{className:"btn",children:Object(o.jsx)("button",{onClick:function(){return d(!0)},children:"+ New Todo"})}),Object(o.jsx)(p,{showModal:r,setShowModal:d,children:Object(o.jsx)(C,{handleSubmit:function(e){e.preventDefault(),m&&!T.includes(D)&&(l.firestore().collection("todos").add({text:m,date:b()(v).format("MM/DD/YYYY"),day:b()(v).format("d"),time:b()(g).format("hh:mm A"),projectName:D,checked:!1,color:Y()({luminosity:"dark"})}),d(!1),h(""),N(new Date),k(new Date))},heading:"Add new todo!",text:m,setText:h,day:v,setDay:N,time:g,setTime:k,todoProject:D,setTodoProject:P,projects:t,showButtons:!0,setShowModal:d})})]})};var P=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useContext)(O).setSelectedProject,r=Object(v.useSpring)({transform:c?"rotate(90deg)":"rotate(0deg)",config:{friction:25}}),d=Object(v.useSpring)({display:c?"block":"none",lineHeight:c?1:0});return Object(o.jsxs)("div",{className:"Calendar",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsxs)("div",{className:"title",children:[Object(o.jsx)(N.c,{size:"22"}),Object(o.jsx)("p",{children:"Calendar"})]}),Object(o.jsx)(v.animated.div,{style:r,onClick:function(){return s(!c)},className:"btns",children:Object(o.jsx)("span",{children:Object(o.jsx)(N.d,{size:"22"})})})]}),Object(o.jsx)(v.animated.div,{style:d,className:"items",children:T.map((function(e){return Object(o.jsx)("div",{className:"item",onClick:function(){return a(e)},children:e},e)}))})]})};var E=function(e){var t=e.handleSubmit,c=e.heading,n=e.value,s=e.setValue,a=e.setShowModal,r=e.confirmButtonText;return Object(o.jsxs)("form",{onSubmit:t,className:"projectForm",children:[Object(o.jsx)("h3",{children:c}),Object(o.jsx)("input",{value:n,onChange:function(e){return s(e.target.value)},type:"text",placeholder:"Project Name",autoFocus:!0}),Object(o.jsx)("button",{className:"cancel",onClick:function(){return a(!1)},children:"Cancel"}),Object(o.jsx)("button",{className:"confirm",children:r})]})};var A=function(e){var t=e.project,c=e.setShowModal,s=Object(n.useState)(t.name),a=Object(i.a)(s,2),r=a[0],d=a[1],j=Object(n.useContext)(O),u=j.selectedProject,b=j.setSelectedProject;return Object(o.jsx)("div",{className:"RenameProject",children:Object(o.jsx)(E,{handleSubmit:function(e){e.preventDefault(),function(e,t){var c=l.firestore().collection("projects"),n=l.firestore().collection("todos"),s=e.name;c.where("name","==",t).get().then((function(a){a.empty?c.doc(e.id).update({name:t}).then((function(){n.where("projectName","==",s).get().then((function(e){e.forEach((function(e){e.ref.update({projectName:t})}))}))})).then((function(){u===s&&b(t)})):alert("Project with the same name already exists!")}))}(t,r),c(!1)},heading:"Edit Project Name",value:r,setValue:d,setShowModal:c,confirmButtonText:"Confirm"})})},z=c(58);var I=function(e){var t=e.project,c=e.edit,s=Object(n.useContext)(O),a=s.defaultProject,r=s.selectedProject,d=s.setSelectedProject,j=Object(n.useState)(!1),u=Object(i.a)(j,2),b=u[0],m=u[1],h=Object(v.useSpring)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),f=Object(v.useTransition)(c,{from:{opacity:0,right:"-20px"},enter:{opacity:1,right:"0px"},leave:{opacity:0,right:"-20px"}});return Object(o.jsxs)(v.animated.div,{style:h,className:"Project",children:[Object(o.jsx)("div",{className:"name",onClick:function(){return d(t.name)},children:t.name}),Object(o.jsx)("div",{className:"btns",children:f((function(e,c){return c?Object(o.jsxs)(v.animated.div,{style:e,className:"edit-delete",children:[Object(o.jsx)("span",{className:"edit",onClick:function(){return m(!0)},children:Object(o.jsx)(z.a,{size:"20"})}),Object(o.jsx)("span",{className:"delete",onClick:function(){return function(e){l.firestore().collection("projects").doc(e.id).delete().then((function(){l.firestore().collection("todos").where("projectName","==",e.name).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))})).then((function(){r===e.name&&d(a)}))}(t)},children:Object(o.jsx)(S.a,{size:"20"})})]}):0===t.numOfTodos?"":Object(o.jsx)(v.animated.div,{style:e,className:"total-todos",children:t.numOfTodos})}))}),Object(o.jsx)(p,{showModal:b,setShowModal:m,children:Object(o.jsx)(A,{project:t,setShowModal:m})})]})};var B=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(i.a)(a,2),d=r[0],j=r[1];return Object(o.jsxs)("div",{className:"AddNewProject",children:[Object(o.jsx)("div",{className:"add-button",children:Object(o.jsx)("span",{onClick:function(){return s(!0)},children:Object(o.jsx)(z.b,{size:"22"})})}),Object(o.jsx)(p,{showModal:c,setShowModal:s,children:Object(o.jsx)(E,{handleSubmit:function(e){if(e.preventDefault(),d){var t=l.firestore().collection("projects");t.where("name","==",d).get().then((function(e){e.empty?t.add({name:d}):alert("Project already exists!")})),s(!1),j("")}},heading:"New project",value:d,setValue:j,setShowModal:s,confirmButtonText:"Add Project"})})]})};var F=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(i.a)(a,2),d=r[0],j=r[1],l=d?"#1ec94c":"#000000",u=Object(n.useContext)(O).projects,b=Object(v.useSpring)({transform:c?"rotate(90deg)":"rotate(0deg)",config:{friction:25}}),m=Object(v.useSpring)({display:c?"block":"none",lineHeight:c?1:0});return Object(o.jsxs)("div",{className:"Projects",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsxs)("div",{className:"title",children:[Object(o.jsx)(N.h,{size:"22"}),Object(o.jsx)("p",{children:"Projects"})]}),Object(o.jsxs)("div",{className:"btns",children:[c&&u.length>0&&Object(o.jsx)("span",{className:"edit",onClick:function(){return j((function(e){return!e}))},children:Object(o.jsx)(z.a,{size:"22",color:l})}),Object(o.jsx)(B,{}),Object(o.jsx)(v.animated.span,{className:"arrow",style:b,onClick:function(){return s(!c)},children:Object(o.jsx)(N.d,{size:"22"})})]})]}),Object(o.jsx)(v.animated.div,{style:m,className:"items",children:u.map((function(e){return Object(o.jsx)(I,{project:e,edit:d},e.id)}))})]})};var L=function(e){var t=e.todo,c=Object(n.useState)(!1),s=Object(i.a)(c,2),a=s[0],r=s[1],j=Object(n.useContext)(O),u=j.selectedTodo,m=j.setSelectedTodo,h=function(e){l.firestore().collection("todos").doc(e.id).delete()},f=Object(v.useSpring)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),x=Object(v.useTransition)(t.checked,{from:{position:"absolute",transform:"scale(1)"},enter:{transform:"scale(1)"},leave:{transform:"scale(1)"}});return Object(o.jsx)(v.animated.div,{style:f,className:"Todo",children:Object(o.jsxs)("div",{className:"todo-container",onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:[Object(o.jsx)("div",{className:"check-todo",onClick:function(){return function(e){l.firestore().collection("todos").doc(e.id).update({checked:!e.checked})}(t)},children:x((function(e,c){return c?Object(o.jsx)(v.animated.span,{style:e,className:"checked",children:Object(o.jsx)(N.e,{color:"#808080"})}):Object(o.jsx)(v.animated.span,{style:e,className:"unchecked",children:Object(o.jsx)(N.f,{color:t.color})})}))}),Object(o.jsxs)("div",{className:"text",onClick:function(){return m(t)},children:[Object(o.jsx)("p",{style:{color:t.checked?"#b1b1b1":"#000000"},children:t.text}),Object(o.jsxs)("span",{children:[t.time," - ",t.projectName]}),Object(o.jsx)("div",{className:"line ".concat(t.checked?"line-through":"")})]}),Object(o.jsx)("div",{className:"add-to-next-day",onClick:function(){return function(e){var t=b()(e.date,"MM/DD/YYYY").add(1,"days"),c=Object(d.a)(Object(d.a)({},e),{},{checked:!1,date:t.format("MM/DD/YYYY"),day:t.format("d")});delete c.id,l.firestore().collection("todos").add(c)}(t)},children:t.checked&&Object(o.jsx)("span",{children:Object(o.jsx)(N.a,{})})}),Object(o.jsx)("div",{className:"delete-todo",onClick:function(){return function(e){h(e),u===e&&m(!1)}(t)},children:(a||t.checked)&&Object(o.jsx)("span",{children:Object(o.jsx)(N.i,{})})})]})})};var R=function(e){var t=e.todos,c=Object(n.useState)([]),s=Object(i.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){var e=["0","1","2","3","4","5","6"].map((function(e){return{todos:t.filter((function(t){return t.day===e})),number:e}})),c=parseInt(b()().format("d")),n=e.slice(c).concat(e.slice(0,c));r(n)}),[t]),Object(o.jsx)("div",{className:"Next7Days",children:a.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"day",children:[Object(o.jsxs)("div",{className:"name",children:[b()(e.number,"d").format("dddd"),e.number===b()().format("d")&&" (Today)"]}),Object(o.jsxs)("div",{className:"total-todos",children:["(",e.todos.length,")"]})]}),Object(o.jsx)("div",{className:"todos",children:e.todos.map((function(e){return Object(o.jsx)(L,{todo:e},e.id)}))})]},e.number)}))})};var V=function(){var e=Object(n.useContext)(O),t=e.todos,c=e.selectedProject;return Object(o.jsxs)("div",{className:"Todos",children:[Object(o.jsx)("div",{className:"selected-project",children:c}),Object(o.jsx)("div",{className:"todos",children:"next 7 days"===c?Object(o.jsx)(R,{todos:t}):t.map((function(e){return Object(o.jsx)(L,{todo:e},e.id)}))})]})};var U=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(new Date),r=Object(i.a)(a,2),d=r[0],j=r[1],u=Object(n.useState)(new Date),m=Object(i.a)(u,2),h=m[0],f=m[1],x=Object(n.useState)(""),v=Object(i.a)(x,2),p=v[0],N=v[1],S=Object(n.useContext)(O),y=S.selectedTodo,g=S.projects;return Object(n.useEffect)((function(){y&&(s(y.text),j(b()(y.date,"MM/DD/YYYY")),f(b()(y.time,"hh:mm A")),N(y.projectName))}),[y]),Object(n.useEffect)((function(){y&&l.firestore().collection("todos").doc(y.id).update({text:c,date:b()(d).format("MM/DD/YYYY"),day:b()(d).format("d"),time:b()(h).format("hh:mm A"),projectName:p})}),[c,d,h,p]),Object(o.jsx)("div",{children:y&&Object(o.jsxs)("div",{className:"EditTodo",children:[Object(o.jsx)("div",{className:"header",children:"Edit Todo"}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(C,{handleSubmit:function(e){},text:c,setText:s,day:d,setDay:j,time:h,setTime:f,todoProject:p,setTodoProject:N,projects:g})})]})})};var G=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)(h,{children:[Object(o.jsx)(x,{}),Object(o.jsx)(D,{}),Object(o.jsx)(P,{}),Object(o.jsx)(F,{})]}),Object(o.jsxs)(r,{children:[Object(o.jsx)(U,{}),Object(o.jsx)(V,{})]})]})};a.a.render(Object(o.jsx)(m,{children:Object(o.jsx)(G,{})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.b58a0af6.chunk.js.map